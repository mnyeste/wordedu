task clean () << {
	allprojects {
		clean
	}
	delete 'build'
}

task init () << {
	allprojects {
		init
	}
	mkdir("build/public_html")
}

task build () << {
	allprojects {
		build
	}
	build_site()
}

task test () << {
	allprojects {
		test
	}
}

task start_server() << {
	exec {
		executable "python"
		args '-m', 'SimpleHTTPServer'
	}
}

def build_site () {
	// add frontent package to dist
	println "Adding frontend to package"
	copy {
		from "app_frontend/src/main/webapp"
		into "build/public_html"
	}
	// add defined dicts to dist
	def dicts = ["words"]
	(dicts).each { d ->
		println "Adding dict ${d} to package"
		copy {
			from "app_dict_import/build/${d}.json"
			into "build/public_html/js/dicts/${d}.json"
		}
	}
	
}